## ОП Python / 6.Исключения и обработка ошибок

### 6.1 Введение в исключения

Python предоставляет механизмы для обработки исключительных ситуаций, которые могут возникнуть во время выполнения программы. Исключение - это объект, который создается в ответ на ошибку или неправильное поведение программы, которое не может быть обработано обычным способом.

В Python есть несколько встроенных исключений, таких как ValueError, TypeError и ZeroDivisionError. Все они возникают при выполнении определенных операций, например, попытке деления на ноль или передаче неверных типов данных функции. (все типы и виды можно найти здесь более подробно - https://pythonworld.ru/tipy-dannyx-v-python/isklyucheniya-v-python-konstrukciya-try-except-dlya-obrabotki-isklyuchenij.html)

### 6.2 Обработка исключений

**Простейший способ обработки исключений** - использование конструкции try-except. Она позволяет поймать исключение и выполнить определенные действия в ответ на него:
В блоке try помещается код, где может произойти исключение. Если исключение возникает, то в блоке except указывается какое именно исключение ожидать, и какие действия нужно выполнить в этом случае. Таким образом, блок except работает как обработчик ошибок.

Например, мы можем использовать try-except для преобразования строки в число:
```python
num_str = "100"
try:
    num = int(num_str)
except ValueError:
    print("Неверный формат строки")
```
_Если строка num_str будет содержать что-то отличное от чисел, то произойдет исключение ValueError, которое будет обработано блоком except._

Можно добавить блок else, который будет выполнен в случае, если исключение не возникло:
```python
num_str = "100"
try:
    num = int(num_str)
except ValueError:
    print("Неверный формат строки")
else:
    print("Число успешно преобразовано:", num)
```
Также можно использовать блок finally, который будет выполнен независимо от того, возникло исключение или нет:
```python
num_str = "100"
try:
    num = int(num_str)
except ValueError:
    print("Неверный формат строки")
else:
    print("Число успешно преобразовано:", num)
finally:
    print("Блок finally выполнен")
```
Также конструкция try-except может иметь несколько блоков except, что позволяет обрабатывать разные типы исключений:

```python
try:
    # код, который может вызвать исключение
except ValueError:
    # код, который будет выполнен в случае возникновения исключения ValueError
except ZeroDivisionError:
    # код, который будет выполнен в случае возникновения исключения ZeroDivisionError
except:
    # код, который будет выполнен в случае возникновения любого другого исключения
```

### 6.3 Создание собственных исключений
Кроме встроенных исключений, Python позволяет создавать собственные исключения. Для этого нужно создать класс, который будет наследоваться от класса Exception:
```python
class MyException(Exception):
    pass
```
Теперь можно использовать этот класс, чтобы возбуждать исключение в своей программе:
```python
raise MyException("Это мое исключение")
```
Или использовать его, чтобы поймать это исключение в конструкции try-except:
```python
try:
    # код, который может вызвать исключение
except MyException as e:
    print("Было возбуждено мое исключение:", e)
```

**Более подробный пример:**
```python
class MyCustomException(Exception):
    def __init__(self, message):
        super().__init__(message)
        self.message = message
```

_Пример использования собственного исключения:_

```python
def divide(a, b):
    if b == 0:
        raise MyCustomException("Division by zero")
    return a / b

try:
    result = divide(10, 0)
except MyCustomException as e:
    print(e.message)
```
_В этом примере определена функция divide, которая выполняет деление двух чисел. Если делитель равен 0, то вызывается исключение MyCustomException с сообщением "Division by zero". Затем исключение обрабатывается блоком try-except, который выводит сообщение об ошибке._

Создание собственных исключений может улучшить читаемость и отладку кода, так как позволяет более полно описать ошибки и указать место, где они произошли.
